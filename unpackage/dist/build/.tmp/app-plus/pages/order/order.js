(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/order/order"],{"0cf6":function(t,e,n){"use strict";(function(t){n("daa0"),n("921b");a(n("66fd"));var e=a(n("e380"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},"0e12":function(t,e,n){"use strict";(function(t,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n("2f62"),u=i(n("f42b"));function i(t){return t&&t.__esModule?t:{default:t}}var r=function(){return n.e("node-modules/@dcloudio/uni-ui/lib/uni-pagination/uni-pagination").then(n.bind(null,"7d82"))},s=function(){return n.e("node-modules/@dcloudio/uni-ui/lib/uni-badge/uni-badge").then(n.bind(null,"4a83"))},c={computed:(0,o.mapState)(["forcedLogin","hasLogin","userName","serverUrl","user"]),data:function(){return{navlist:["已申请","已同意","被拒绝","进行中","待支付","已完成"],currentIndex:0,pages:1,dataList:[],page:{pageNum:1,pageSize:10,total:"",pageTotal:"0"},order_list:[],classNum:{0:"",1:"",2:"",3:"",4:"",5:""},searchEntity:{status:0},status:"",phoneStatus:{}}},components:{uniPagination:r,uniBadge:s},methods:{geikehu:function(e){var n=this;t.showModal({title:"提示",content:"确认操作?",success:function(t){if(t.confirm){var a={url:"/order/daohuo"};a.data=e,u.default.post(a).then(function(t){n.getOderNum(),n.getDataList()},function(t){})}else t.cancel}})},butongyi:function(e){var n=this;t.showModal({title:"提示",content:"确认取消?",success:function(t){if(t.confirm){var a={url:"/order/reject"};a.data=e,u.default.post(a).then(function(t){n.getOderNum(),n.getDataList()},function(t){})}else t.cancel}})},getCargo:function(e){var n=this;t.showModal({title:"提示",content:"确认取货? 请注意,当确认时无法更改，直到订单完成",success:function(o){if(o.confirm){var i={url:"/order/confirm"};i.data=e,u.default.post(i).then(function(e){t.showToast({icon:"success",title:"成功!取货码："+e}),console.log(a(e," at pages\\order\\order.vue:233")),n.getOderNum(),n.getDataList()},function(t){})}else o.cancel}})},cancel0:function(e){var n=this;t.showModal({title:"提示",content:"确认?",success:function(t){if(t.confirm){var a={url:"/order/delete"};a.data={id:e.id,status:e.status,userpointid:e.userpointid},u.default.post(a).then(function(t){n.getOderNum(),n.getDataList()},function(t){})}else t.cancel}})},cancelRecord:function(t){var e=this,n={url:"/order/delete"};n.data={id:t.id,status:t.status,userpointid:t.userpointid},u.default.post(n).then(function(t){e.getOderNum(),e.getDataList()},function(t){})},navselect:function(t){this.searchEntity.status=t,this.currentIndex=t,this.getDataList()},paginat:function(t){this.page.pageNum=t,console.log(a(t," at pages\\order\\order.vue:318"))},goDetail:function(e){t.navigateTo({url:"../cargo/cargo/cargo?id="+e.userpointid+"&type=1"})},getDataList:function(){var t="/order/query/condition",e={pageNum:this.page.pageNum,pageSize:this.page.pageSize,status:this.searchEntity.status,userid:this.user.id},n={};n.url=t,n.data=e;var o=this;u.default.post(n).then(function(t){o.order_list=t.list,o.order_list.forEach(function(t){t.goodsimage=JSON.parse(t.goodsimage)}),o.page.pageNum=t.pageNum,o.page.pageSize=t.pageSize,o.page.pageTotal=t.total},function(t){console.log(a("失败"," at pages\\order\\order.vue:353"))})},getOderNum:function(){var t="/order/query/getOrderNum",e={userId:this.user.id},n={};n.url=t,n.data=e;var o=this;u.default.get(n).then(function(t){Object.assign(o.classNum,t)},function(t){console.log(a("失败"," at pages\\order\\order.vue:375"))})}},mounted:function(){var e=this;t.getSystemInfo({success:function(n){e.phoneStatus=n,t.startPullDownRefresh()}})},onPullDownRefresh:function(){var e=this;setTimeout(function(){e.getOderNum(),e.getDataList(),t.stopPullDownRefresh()},1e3)}};e.default=c}).call(this,n("6e42")["default"],n("0de9")["default"])},"5a7e":function(t,e,n){"use strict";var a,o=function(){var t=this,e=t.$createElement;t._self._c},u=[];n.d(e,"b",function(){return o}),n.d(e,"c",function(){return u}),n.d(e,"a",function(){return a})},"9ef7":function(t,e,n){"use strict";var a=n("f3f1"),o=n.n(a);o.a},d2d2:function(t,e,n){"use strict";n.r(e);var a=n("0e12"),o=n.n(a);for(var u in a)"default"!==u&&function(t){n.d(e,t,function(){return a[t]})}(u);e["default"]=o.a},e380:function(t,e,n){"use strict";n.r(e);var a=n("5a7e"),o=n("d2d2");for(var u in o)"default"!==u&&function(t){n.d(e,t,function(){return o[t]})}(u);n("9ef7");var i,r=n("f0c5"),s=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],i);e["default"]=s.exports},f3f1:function(t,e,n){}},[["0cf6","common/runtime","common/vendor"]]]);